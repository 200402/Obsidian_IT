# Prototype (Прототип)
## Классификация паттерна 
Порождающий объекты

## Назначение 
Задает виды создаваемых объектов с помощью экземпляра-прототипв и создает новые объекты путем копирования этого прототипа.

## Мотивация
Надо иметь 2 разных экземпляра одного и того же класса с определенными различиями.

## Применимость
- классы для создания экземпляров определяются во время выполнения; *или*
- для избежания посторения лишних иерархий классов или фабрик, парралельных иерархии классов продуктов; *или*
- экземпляры класса могут находиться в одном из не очень большого числа различных состояний. Может быть удобнее установить соответствующее число прототипов и клонировать их, а не создавать экземпляр каждый раз вручную в подходящем состоянии.

## Структура
![[Prototype (Прототип) Структура.png]]

## Участники
- Prototype - Интерфейс для клонирования самого себя (можно абстрактный класс)
- ConcretePrototype - класс, использующий Prototype. Реализует операцию по клонированию себя.
- Client - создает новый объект, обращаясь к прототипу с запросом клонировать себя.

## Результаты
### Плюсы
- Добавление и удаление продуктов во время выполнения

### Минусы
- Релизовать копирование может быть проблемно из-за того, что внутри клонируемого класса могут содержаться элементы, которые не поддерживают клонирование или присутствуют циклические ссылки.

## Реализация
- Использование диспетчера прототипов - можно заранее создать набор прототипов-шаблонов
- Реализация Clone()
	- Поверхностное копирование - типы с ссылочным типом копируются по ссылке.
	- Глубокое копирование - типы с ссылочным типом копируются по значению.
	- Если у класса есть Save() Load() то можно сохранить и сразу загрузить объект.
- Инициализация клонов - вероятно потребуется использовать паттерн [[Builder (Строитель)]]

## Родственные паттерны
1. [[Abstract Factory (Абстрактная фабрика)]]
2. [[Composite (Компоновщик)]]
3. [[Decorator (Декоратор)]]

#Паттерн