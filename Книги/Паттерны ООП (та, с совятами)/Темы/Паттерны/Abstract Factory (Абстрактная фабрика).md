# Abstract Factory (Абстрактная фабрика)
## Классификация паттерна 
Порождающий объекты

## Назначение 
Предоставляет интерфейсдля создания семейств взаимосвязанных или взаимозависимых объектов, не специфицируя их конкретных классов.

## Другие названия
Kit (инструментарий)

## Мотивация
Необходимость делать одинаковый функционал у различных элементов.

## Применимость
- Система не должна зависесть от того, как создаются, компонуются и представляются входящие в нее объекты
- Система должна иметь способы определения какая реализация нужна в том или ином случае.
- Необходимо придерживаться шаблона проектирования.
- Работать через интерфейсы, а не реализацию.

## Структура
![[Abstract Factory (Абстрактная фабрика) Структура.png]]

## Участники
- AbstractFactory - интерфейс для дальнейшей реализации.
- ConcreteFactory - реализует операции, создающие конкретные объекты-продукты.
- AbstractProduct - объйвляет интерфейс для типа объекта-продукта
- ConcreteProduct  -определяет объект-продукт, создаваемый конкретной фабрикой
- Client - используется исколючительно интерфейсами

## Отношения
- Одна конкретная фабрика создает объекты-продукты, имеющие вполне определенную реализацию. Для создания других видов объетов клиент должен воспользоваться другой конкретной фабрикой. 
- AbstractFactory - передоверяет создание объектов-продуктов своему подклассу ConcreteFactory.

## Результаты
### Плюсы
- Изолирует конкретные классы - клиенты манипулируют экземплярами через интерфейсы.
- Упрощает замену свойств продуктов - при необходимости надо просто изенить конкретную фабрику.
- Гарантирует сочетаемость продуктов - один интерфейс.

### Минусы
- Не упрощает задачу поддержки нового вида продуктов - то, что можно сделать решается в абстрактной фабрике, и в случае необходимости расширения его функционала придется прописывать эти изменения и во всех наследниках.

## Реализация
- Как правило конкретная фабрика создается только в одном месте, поэтому рекомендуется применять паттерн [[Singelton (Одиночка)]].
- Создание продуктов - Класс AbstractFactory обхявляет только интерфкйс для создания продуктов. Фактическое их создание - дело подклассов ConcreteProduct. Чаще всего для этой цели используется [[Factory Method (Фабричный метод)]] для каждого продукта. Конкретная фабрика определяет свои продукты путем замещения фабричного метода для каждого из них. Хотя такая релизация проста, она требует создавать новый подкласс конкретной фабрики для каждого семейства продуктов, даже если они почти ничем не отличаются. [[ВОПРОС]]переформулировать, когда преисполнишься в своем познании.
- если семество продуктов много, то конкретную фабрику удастся релизовать с помощью паттерна [[Prototype (Прототип)]], в этом случае она инициализиркется экземпляром-прототипом каждого продукта в семействе и создает новый продукт путем клонирования этого прототипа. Подход на осснове прототиров устраняет необходимость создавать новый класс конкретной фабрики для кажого нового семейства продуктов. [[ВОПРОС]]переформулировать, когда преисполнишься в своем познании.
- Определение расширяемых фабрик.
	- Для добавления нового вида продуктов требуется изменить интерфейс класс AbstractFactory.
	- Менее безопасный способ - реализовать создание через отдельную функцию, которая принимает параметр, который определяет тип создаваемого объекта.

## Родственные паттерны

1. [[Prototype (Прототип)]]
2. [[Factory Method (Фабричный метод)]]


#Паттерн